
<!doctype html>
<html lang="en" dir="ltr">
<head>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-90889787-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-90889787-1');
</script>


    <!-- Required meta tags -->
    <meta charset="utf-8">
    
    <meta name="description" content="Makon Cline: Engineer, maker, cook. Make useful things">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <title>Makon Cline</title>
    

    <!-- Favicon -->
    <!-- <link rel="shortcut icon" href="favicon.ico">  -->

<!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- web3 -->
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
    <!-- jquery -->
    <script   src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="   crossorigin="anonymous"></script>


    <!-- my CSS -->  
    <link rel="stylesheet" href="/assets/css/style.css">

    <!-- open sans font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"> 

</head>

<body>

	<div>
		<div style="font-size:14px;">
<h1>CHICKEN HUNT</h1>
<p>
Interface for the game <a href="chickenhunt.io">Chicken Hunt</a>.<br>
</p>
<div class="container alert alert-secondary">
	<h1>ETHEREUM</h1>
	<div class="row">
		<div class="col-3">ETH/$</div>
		<div class="col" id="ethPriceUsd"></div>
		<div class="col-4">GAS PRICE</div>
		<div class="col" id="gasPrice"></div>
	</div>
</div>

<div class="container alert alert-secondary">
	<h1>MY STATS</h1>
	<div class="row">
		<div class="col" id="myAddress"></div>
	</div>
	<div class="row">
		<div class="col-2">HNT</div>
		<div class="col" id="myHNT"></div>
		<div class="col-2">DEF</div>
		<div class="col" id="myDEF"></div>
	</div>
	<div class="row">
		<div class="col-2">PVP</div>
		<div class="col" id="myPVP"></div>
		<div class="col-2">DPT</div>
		<div class="col" id="myDPT"></div>
	</div>
	<div class="row">
		<div class="col-2">CHKN</div>
		<div class="col" id="myChicken"></div>
		<div class="col-3">CHKN/DPT</div>
		<div class="col" id="myStlChicken"></div>
	</div>
</div>

<div class="container alert alert-secondary">
	<h1>ALTAR</h1>
	<div class="row">
		<div class="col-2">CHKN</div>
		<div class="col-4" id="chknProd"></div>
		<div class="col-2">ETH</div>
		<div class="col" id="altarETH"></div>
		<div class="w-100"></div>
		<div class="col">COST</div>
		<div class="col" id="txCostAltar"></div>
		<div class="col">PROFIT</div>
		<div class="col" id="altarProfit"></div>
	</div>
	<div class="row">
		<div class="col">
			<button type="button" class="btn btn-primary btn-sm btn-block" id="altBtn">SACRIFICE</button>
		</div>
	</div>
</div>

<div class="container alert alert-secondary">
	<h1>ATTACK</h1>
	<div class="row">
		<div class="col-3">COST</div>
		<div class="col-3" id="txCostAttack"></div>
		<div class="col">COOLDOWN</div>
		<div class="col" id="myAttackCooldown"></div>
		<div class="w-100"></div>
		<div class="col-8">BREAK-EVEN ATK THEN SAC</div>
		<div class="col-4" id="attackBreakEven"></div>
	</div>
	<p></p>
	<div id="attack0" class="alert alert-light">
		<div class="row">
			<div class="col" id="address0"></div>
		</div>
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-2">HNT</div>
					<div class="col" id="hnt0"></div>
					<div class="col-2">PVP</div>
					<div class="col" id="pvp0"></div>
					<div class="w-100"></div>
					<div class="col-2">DEF</div>
					<div class="col" id="def0"></div>
					<div class="col-2">DPT</div>
					<div class="col" id="dpt0"></div>
				</div>
				<div class="row">
					<div class="col-3">CHKN/DPT</div>
					<div class="col" id="stlchkn0"></div>
					<div class="col-3">PROFIT</div>
					<div class="col-2" id="profit0"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button type="button" class="btn btn-danger btn-sm btn-block" id="atkBtn0">ATTACK</button>
			</div>
		</div>
	</div>
<p></p>
	<div id="attack1" class="alert alert-light">
		<div class="row">
			<div class="col" id="address1"></div>
		</div>
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-2">HNT</div>
					<div class="col" id="hnt1"></div>
					<div class="col-2">PVP</div>
					<div class="col" id="pvp1"></div>
					<div class="w-100"></div>
					<div class="col-2">DEF</div>
					<div class="col" id="def1"></div>
					<div class="col-2">DPT</div>
					<div class="col" id="dpt1"></div>
				</div>
				<div class="row">
					<div class="col-3">CHKN/DPT</div>
					<div class="col" id="stlchkn1"></div>
					<div class="col-3">PROFIT</div>
					<div class="col-2" id="profit1"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button type="button" class="btn btn-danger btn-sm btn-block" id="atkBtn1">ATTACK</button>
			</div>
		</div>
	</div>

	<div id="attack2" class="alert alert-light">
		<div class="row">
			<div class="col" id="address2"></div>
		</div>
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-2">HNT</div>
					<div class="col" id="hnt2"></div>
					<div class="col-2">PVP</div>
					<div class="col" id="pvp2"></div>
					<div class="w-100"></div>
					<div class="col-2">DEF</div>
					<div class="col" id="def2"></div>
					<div class="col-2">DPT</div>
					<div class="col" id="dpt2"></div>
				</div>
				<div class="row">
					<div class="col-3">CHKN/DPT</div>
					<div class="col" id="stlchkn2"></div>
					<div class="col-3">PROFIT</div>
					<div class="col-2" id="profit2"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button type="button" class="btn btn-danger btn-sm btn-block" id="atkBtn2">ATTACK</button>
			</div>
		</div>
	</div>

	<div id="attack3" class="alert alert-light">
		<div class="row">
			<div class="col" id="address3"></div>
		</div>
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-2">HNT</div>
					<div class="col" id="hnt3"></div>
					<div class="col-2">PVP</div>
					<div class="col" id="pvp3"></div>
					<div class="w-100"></div>
					<div class="col-2">DEF</div>
					<div class="col" id="def3"></div>
					<div class="col-2">DPT</div>
					<div class="col" id="dpt3"></div>
				</div>
				<div class="row">
					<div class="col-3">CHKN/DPT</div>
					<div class="col" id="stlchkn3"></div>
					<div class="col-3">PROFIT</div>
					<div class="col-2" id="profit3"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button type="button" class="btn btn-danger btn-sm btn-block" id="atkBtn3">ATTACK</button>
			</div>
		</div>
	</div>

	<div id="attack4" class="alert alert-light">
		<div class="row">
			<div class="col" id="address4"></div>
		</div>
		<div class="row">
			<div class="col">
				<div class="row">
					<div class="col-2">HNT</div>
					<div class="col" id="hnt4"></div>
					<div class="col-2">PVP</div>
					<div class="col" id="pvp4"></div>
					<div class="w-100"></div>
					<div class="col-2">DEF</div>
					<div class="col" id="def4"></div>
					<div class="col-2">DPT</div>
					<div class="col" id="dpt4"></div>
				</div>
				<div class="row">
					<div class="col-3">CHKN/DPT</div>
					<div class="col" id="stlchkn4"></div>
					<div class="col-3">PROFIT</div>
					<div class="col-2" id="profit4"></div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col">
				<button type="button" class="btn btn-danger btn-sm btn-block" id="atkBtn4">ATTACK</button>
			</div>
		</div>
	</div>
</div>
<div class="row">
		<div class="col">
			<button type="button" class="btn btn-secondary btn-sm btn-block" id="refreshBtn" onclick="
				function longRefresh(){
					localStorage.clear();
					location.reload();
				};
				longRefresh()
			">LONG REFRESH</button>
		</div>
	</div>
</div>

<script type="text/javascript">
//global var/const/let
const myWallet = "0xfbe00d5fd051a5b1753a673e268277552f8d9d92";
const chknHntAddress = "0x1eD3d2c916cab00631cce4b08a7F880d4Badae94";

//app
window.addEventListener('load', function() {
  if (localStorage.altarGasStats &&
    localStorage.attackGasStats &&
    localStorage.totalChickenProduction &&
    localStorage.users){
  	  getWeb3(startAppFast);
  } else {
  	getWeb3(startAppSlow);
  }
  console.log("web3 recieved");
});

async function startAppFast(web3, storedAltarGas, storedAttackGas, storedChknProd, storedUsers) {
	console.log(storedAltarGas);
	console.log(storedAttackGas);
	console.log(storedChknProd);
	console.log(storedUsers);
	//asyn fetch ether stats and store in variable
    let etherStats = await getEtherStats()
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Ether stats recieved");
	let ethPriceUSD = etherStats.ethPriceUsd;
	let gasPrice = etherStats.gasPrice;

	const chickenHunt = await getContractInstance(chknHntAddress)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Contract instance recieved");

	const myAddress = await web3.eth.defaultAccount;

	let myStats = await getMyStats(chickenHunt, myAddress)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	const altarETH = await  getAltarETH(chickenHunt)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	let altarTxCost = await getAltarTxCost(chickenHunt, etherStats.ethPriceUsd, etherStats.gasPrice, storedAltarGas)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Altar Tx cost recieved");

	let attackTxCost = await getAttackTxCost(chickenHunt, etherStats.ethPriceUsd, etherStats.gasPrice, storedAttackGas)
			.then(response => {
				console.log(response)
				return response
			})
			.catch(err => console.log(response));
	console.log("Attack Tx cost recieved");

	let chknProd = storedChknProd;
	document.getElementById("chknProd").innerHTML = chknProd.toLocaleString();

	let chknValue = await altarETH/chknProd*etherStats.ethPriceUsd
	console.log("chknValve "+chknValue + "attackTxCost:" + attackTxCost);

	let breakEvenAtkAlt = (attackTxCost.usd+altarTxCost.usd)/chknValue;
	document.getElementById("attackBreakEven").innerHTML = parseInt(breakEvenAtkAlt).toLocaleString();

	let altarProfit = await getAltarProfit(myStats.chicken, chknValue, altarTxCost);

	$("#altBtn").off("click");
	$("#altBtn").click(function() {
		  displaySacrificeAlert(chickenHunt, myStats);
	});

	let chknHntUsers = [];
	for (var i = 0; i < 20; i++) {
		chknHntUsers.push(storedUsers[i]);
	}

	let chknHntUsersStats = await getUsersStats(chickenHunt, chknHntUsers)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("ChickenHunt users stats recieved");

	let sortedUserStats = await sortUsersStats(chknHntUsersStats)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	let attackTargets = await getAttackTargets(chickenHunt, sortedUserStats, myStats, chknValue, attackTxCost)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("attack targets recieved");

	setTimeout( function(){
    	startAppFast(web3, storedAltarGas, storedAttackGas, storedChknProd, storedUsers);
    	},
	30000);
}




async function startAppSlow(web3) {
	console.log("app started");
    
    //asyn fetch ether stats and store in variable
    let etherStats = await getEtherStats()
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Ether stats recieved");
	let ethPriceUSD = etherStats.ethPriceUsd;
	let gasPrice = etherStats.gasPrice;

	const chickenHunt = await getContractInstance(chknHntAddress)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Contract instance recieved");

	const myAddress = await web3.eth.defaultAccount;

	let myStats = await getMyStats(chickenHunt, myAddress)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	const altarETH = await  getAltarETH(chickenHunt)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	let altarGasStats = 	await getAltarGasStats(chickenHunt)
		.then(response => {
				console.log(response)
				localStorage.altarGasStats = JSON.stringify(response);
				return response
			})
			.catch(err => console.log(response));
	console.log("Altar gas stats recieved");

	let altarTxCost = await getAltarTxCost(chickenHunt, etherStats.ethPriceUsd, etherStats.gasPrice, altarGasStats)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Altar Tx cost recieved");

	let attackGasStats = await getAttackGasStats(chickenHunt)
		.then(response => {
				console.log(response)
				localStorage.attackGasStats = JSON.stringify(response);
				return response
			})
			.catch(err => console.log(response));
	console.log("Attack gas stats recieved");

	let attackTxCost = await getAttackTxCost(chickenHunt, etherStats.ethPriceUsd, etherStats.gasPrice, attackGasStats)
			.then(response => {
				console.log(response)
				return response
			})
			.catch(err => console.log(response));
	console.log("Attack Tx cost recieved");

	let chknHntUsers = await getUsers(chickenHunt)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("ChickenHunt users recieved");

	let chknHntUsersStats = await getUsersStats(chickenHunt, chknHntUsers)
			.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("ChickenHunt users stats recieved");

	let chknProd = await getTotalChickenProduction(chickenHunt, chknHntUsersStats)
		.then(response => {
			console.log(response);
			localStorage.totalChickenProduction = JSON.stringify(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("Total chicken production recieved");

	let chknValue = await altarETH/chknProd*etherStats.ethPriceUsd
	console.log("chknValve "+chknValue + "attackTxCost:" + attackTxCost);

	let breakEvenAtkAlt = (attackTxCost.usd+altarTxCost.usd)/chknValue;
	document.getElementById("attackBreakEven").innerHTML = parseInt(breakEvenAtkAlt).toLocaleString();

	let altarProfit = await getAltarProfit(myStats.chicken, chknValue, altarTxCost);

	$("#altBtn").off("click");
	$("#altBtn").click(function() {
		  displaySacrificeAlert(chickenHunt, myStats);
	});

	let sortedUserStats = await sortUsersStats(chknHntUsersStats)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));

	let attackTargets = await getAttackTargets(chickenHunt, sortedUserStats, myStats, chknValue, attackTxCost)
		.then(response => {
			console.log(response);
			return response;
		})
		.catch(err => console.log(err));
	console.log("attack targets recieved");

	let sortedUsers = await getUserAddressesFromStats(attackTargets)
		.then(response => {
			console.log(response);
			localStorage.users = JSON.stringify(response);
			return response;
		})
		.catch(err => console.log(err));


	if (localStorage.altarGasStats &&
    	localStorage.attackGasStats &&
    	localStorage.totalChickenProduction &&
    	localStorage.users){

    	let storedAltarGas = JSON.parse(localStorage.altarGasStats);
    	let storedAttackGas = JSON.parse(localStorage.attackGasStats);
    	let storedTotalChickenProduction = JSON.parse(localStorage.totalChickenProduction);
    	let storedChknHntUsers = JSON.parse(localStorage.users);
	    startAppFast(web3, storedAltarGas, storedAttackGas, storedTotalChickenProduction, storedChknHntUsers);
	}
}

//functions
async function sortUsersStats(userStats){
	return userStats.sort(dynamicSort("hnt"));
}

async function getUserAddressesFromStats(userStats){
	let result = [];
	for (var i = 0; i < userStats.length; i++) {
		result.push(userStats[i].address);
	}
	return result;
}

async function getAltarProfit(chicken, chknValue, altarTxCost){
	const output = chicken*chknValue-altarTxCost.usd;

	document.getElementById("altarProfit").innerHTML = "$"+output.toFixed(2)
	return output;
}

async function getMyStats(contractInstance, address){
	const myStats = await getStats(contractInstance, address)
		.then(response => {
			console.log(response);
			displayMyStats(response.address, response.chicken, response.hnt, response.pvp, response.def, response.dpt, response.attackCooldown);
			return response;
		})
		.catch(err => console.log(err));
	console.log("User stats recieved");
	return myStats;
}

async function displaySacrificeAlert(contractInstance, myStats){
	const stats = await getStats(contractInstance, myStats.address);
	const confirmMessage = await "You want to sacrifice\n"+parseInt(stats.chicken).toLocaleString()+"\n chicken??"
	if(confirm(confirmMessage)){
		sacrifice(contractInstance, myStats);
	}
}

async function sacrifice(contractInstance, myStats){
	const stats = await getStats(contractInstance, myStats.address);
	contractInstance.chickenToAltar(parseInt(stats.chicken), function(data){
		console.log("sacrificed "+parseInt(stats.chicken));
 	});
}

async function displayAttackAlert(contractInstance, address){
	const stats = await getStats(contractInstance, address);
	const confirmMessage = await "You want to attack\n"+address+"\n for "+stats.stealableChicken.toLocaleString()+" chicken??"
	if(confirm(confirmMessage)){
		attackUser(contractInstance, address);
	}
}

async function attackUser(contractInstance, address){
	console.log("attacked "+address);
	contractInstance.attack(address, function(data){
		console.log("attacked");
 	});
}

function displayAttackTargets(contractInstance, attackTargets){
	for (var i = attackTargets.length - 1; i >= 0; i--) {
		let address = ("address" + i).toString();
		document.getElementById(address).innerHTML = attackTargets[i].address.substring(0,15)+"...";
		let hnt = ("hnt" + i).toString();
		document.getElementById(hnt).innerHTML = parseInt(attackTargets[i].hnt).toLocaleString();
		let pvp = ("pvp" + i).toString();
		document.getElementById(pvp).innerHTML = parseInt(attackTargets[i].pvp).toLocaleString();
		let def = ("def" + i).toString();
		document.getElementById(def).innerHTML = parseInt(attackTargets[i].def).toLocaleString();
		let dpt = ("dpt" + i).toString();
		document.getElementById(dpt).innerHTML = parseInt(attackTargets[i].dpt).toLocaleString();
		let stlchkn = ("stlchkn" + i).toString();
		document.getElementById(stlchkn).innerHTML = parseInt(attackTargets[i].stealableChicken).toLocaleString();
		let profit = ("profit" + i).toString();
		document.getElementById(profit).innerHTML = "$"+attackTargets[i].profit.toFixed(2);
		let atkBtn = ("atkBtn" + i).toString();
		let addressString = attackTargets[i].address;
		$("#"+atkBtn).off("click");
		$("#"+atkBtn).click(function() {
		  displayAttackAlert(contractInstance, addressString);
		});
	}
}

async function getAttackTargets(contractInstance, usersStats, myStats, chknValue, txCostAttack){
	var attackTargets = usersStats;
	//remove my own address
	for (var i = 0; i < attackTargets.length ; i++) {
		if (attackTargets[i].address == myStats.address){
			attackTargets.splice(i,1);
		}
	}

	//remove users i cant attack
	attackTargets = await attackTargets.filter(function(el){
			return el.def <= myStats.pvp;
		});

	attackTargets = await attackTargets.sort(dynamicSort("stealableChicken"));

	let fiveAttackTargets = [];
	for (var i = 0; i <= 5-1 ; i++) {
		fiveAttackTargets.push(attackTargets[i]);
	}
	for (var i = fiveAttackTargets.length - 1; i >= 0; i--) {
		fiveAttackTargets[i].profit = fiveAttackTargets[i].stealableChicken*chknValue - txCostAttack.usd;
	}
	displayAttackTargets(contractInstance, fiveAttackTargets);

	return attackTargets;
}

async function getAttackTxCost(contractInstance, ethPriceUsd, gasPrice, attackGasStats){
	const attackTxCostETH = await attackGasStats.avg*gasPrice*Math.pow(10,-9);
	const attackTxCostUSD = await attackTxCostETH*ethPriceUsd;
	document.getElementById("txCostAttack").innerHTML = "$"+attackTxCostUSD.toFixed(2);
	return {
		"eth":attackTxCostETH,
		"usd":attackTxCostUSD
	};
}

async function getAltarTxCost(contractInstance, ethPriceUsd, gasPrice, altarGasStats){
	console.log("Altar gas stats recieved");
	const altarTxCostETH = await altarGasStats.avg*gasPrice*Math.pow(10,-9);
	const altarTxCostUSD = await altarTxCostETH*ethPriceUsd;
	document.getElementById("txCostAltar").innerHTML = "$"+altarTxCostUSD.toFixed(2);
	return {
		"eth":altarTxCostETH,
		"usd":altarTxCostUSD
	};
}

//users stats functions
async function getUsersStats(contractInstance, userArray){
	let userStats = [];
	for (var i = userArray.length - 1; i >= 0; i--) {
		const result = await getStats(contractInstance, userArray[i]);
		if (
			Number.isNaN(result.chicken) ||
			Number.isNaN(result.stealableChicken)||
			Number.isNaN(result.attackCooldown) ||
			Number.isNaN(result.hnt) ||
			Number.isNaN(result.pvp) ||
			Number.isNaN(result.def) ||
			Number.isNaN(result.dpt)
			){
			continue;
		} else {
			userStats.push(result);
		}
	}
	return userStats;
}

function dynamicSort(property) {
    var sortOrder = -1;
    if(property[0] === "-") {
        sortOrder = -1;
        property = property.substr(1);
    }
    return function (a,b) {
        var result = (a[property] < b[property]) ? -1 : (a[property] > b[property]) ? 1 : 0;
        return result * sortOrder;
    }
}

function getUsershnt(usersStats){
	let results = [];
	for (var i = usersStats.length - 1; i >= 0; i--) {
		results.push(usersStats[i].hnt);
	}
	return results;
}

async function getUsers(contractInstance){
	//get number of users and addresses
	const joinEvents = await getJoinEvents(contractInstance);
	console.log("Join events recieved");
	const users = await getUsersFrom(joinEvents);
	console.log("User list recieved");
	return users;
}

async function getAltarETH(contractInstance){
	//get ETH amount from altar
	const altarRecordID = await getCurrentAltarRecordID(contractInstance);
	console.log("Current altar record ID recieved");
	console.log(altarRecordID);
	const altarRecord = await getAltarRecord(contractInstance, altarRecordID);
	console.log("Current altar record recieved");
	const altarETH = await parseInt(altarRecord[0].c[0].toString() + altarRecord[0].c[1].toString())*Math.pow(10,-18);
	console.log("Altar ETH recieved");
	document.getElementById("altarETH").innerHTML = altarETH.toFixed(9);
	return altarETH;
}

async function getTotalChickenProduction(contractInstance, usersStats){
	//get total chicken production
	const userHNT = await getUsershnt(usersStats);
	const totalHNT = await userHNT.reduce((a, b) => a + b, 0);
	const chknProd = await totalHNT*60*60*24;
	document.getElementById("chknProd").innerHTML = parseInt(chknProd).toLocaleString();
	return chknProd;
}

async function getAttackGasStats(contractInstance){
	//get all attack events and extract the gas used
	const attackEvents = await getAttackEvents(contractInstance);
	console.log("attack events recieved");
	const attackTransactions = await getTransactionHashes(attackEvents);
	console.log("attack transactions recieved");
	const attackTransactionReciepts = await getTransactionReceipts(attackTransactions);
	console.log("attack reciepts recieved");
	const attackGasStats = await getGasStats(attackTransactionReciepts);
	return 	{	
		"min": attackGasStats.min,
		"max": attackGasStats.max,
		"avg": attackGasStats.avg
	};	
}

async function getAltarGasStats(contractInstance){
	const altarEvents = await getAltarEvents(contractInstance);
	console.log("altar events recieved");
	const altarTransactions = await getTransactionHashes(altarEvents);
	console.log("altar transactions recieved");
	const altarTransactionReciepts = await getTransactionReceipts(altarTransactions);
	console.log("altar reciepts recieved");
	const altarGasStats = await getGasStats(altarTransactionReciepts);
	return {
		"min": altarGasStats.min,
		"max": altarGasStats.max,
		"avg": altarGasStats.avg
	};
}

async function getCurrentAltarRecordID(contractInstance){
	console.log("Loading altar record ID...");
	const genesis = await getGenisisBlock(contractInstance);
	const blockTimestamp = (await getMostRecentBlock()).timestamp;
	const recordID = await ((blockTimestamp - genesis) / 86400);
	return recordID;
}

function getAltarRecord(contractInstance, altarRecord){
	console.log("Loading altar record...");
	return new Promise(resolve => {
		contractInstance.altarRecords(altarRecord, (error, result) => resolve(result));
	});	
}

function getGasStats(transactionReciepts){
	console.log("Loading gas stats...");
	let gasArray = [];
	let totalGasUsed = 0;
	for (var i = transactionReciepts.length - 1; i >= 0; i--) {
		gasArray.push(transactionReciepts[i].gasUsed);
		totalGasUsed += transactionReciepts[i].gasUsed;
	}
	const max = Math.max(...gasArray);
	const min = Math.min(...gasArray);
	const avg = totalGasUsed/transactionReciepts.length;
	return {"min": min, "max": max, "avg": avg};
}

async function getTransactionReceipts(transactionHashes){
	console.log("loading first 50 transaction reciepts...");
	let result = [];
	for (var i = 0; i <= 50 - 1; i++) {
		let reciept = await getTransactionReceipt(transactionHashes[i]);
		result.push(reciept);
	}
	return result;
}

function getTransactionReceipt(transactionHash){
	return new Promise(resolve => {
		web3.eth.getTransactionReceipt(transactionHash ,(error, result) => resolve(result));
	});	
}

function getTransactionHashes(events){
	console.log("loading transaction hashes...");
	let result = [];
	for (var i = events.length - 1; i >= 0; i--) {
		result.push(events[i].transactionHash);
	}
	return result;
}

function getUsersFrom(joinEvents){
	console.log("loading users...");
	let result = [];
	for (var i = joinEvents.length - 1; i >= 0; i--) {
		result.push(joinEvents[i].args.user);
	}
	return result;
}

function getJoinEvents(contractInstance){
	console.log("loading join events...");
	return new Promise(resolve => {
		contractInstance.Join({},{fromBlock: 5851509, toBlock: 'latest'})
			.get((error, result) => resolve(result));
	});
}
function getAttackEvents(contractInstance){
	console.log("loading attack events...");
	return new Promise(resolve => {
		contractInstance.Attack({},{fromBlock: 5851509, toBlock: 'latest'})
			.get((error, result) => resolve(result));
	});
}
function getAltarEvents(contractInstance){
	console.log("loading altar events...");
	return new Promise(resolve => {
		contractInstance.ChickenToAltar({},{fromBlock: 5851509, toBlock: 'latest'})
			.get((error, result) => resolve(result));
	});
}

//my stats functions 
function displayMyStats(userAddress, chicken, hnt, pvp, def, dpt, cooldown){
	document.getElementById("myAddress").innerHTML = userAddress;
	document.getElementById("myChicken").innerHTML = parseInt(chicken).toLocaleString();
	document.getElementById("myStlChicken").innerHTML = parseInt(chicken/dpt).toLocaleString();
	document.getElementById("myAttackCooldown").innerHTML = parseInt(cooldown).toLocaleString();
	document.getElementById("myHNT").innerHTML = parseInt(hnt).toLocaleString();
	document.getElementById("myPVP").innerHTML = parseInt(pvp).toLocaleString();
	document.getElementById("myDEF").innerHTML = parseInt(def).toLocaleString();
	document.getElementById("myDPT").innerHTML = parseInt(dpt);
}

async function getStats(contractInstance, userAddress){
	const chicken = await getChicken(contractInstance, userAddress);
	const details = await getDetails(contractInstance, userAddress);
	const mostRecentBlockTimestamp = (await getMostRecentBlock()).timestamp;
	const attackCooldownTime = await function(){
		let result = 0.00;
		if (details.atkCool < mostRecentBlockTimestamp){
			result = 0.00;
		}else{
			result = (details.atkCool - mostRecentBlockTimestamp);
		}
		return result;
	}();
	const stats = await {
		"address": userAddress, 
		"chicken": chicken, 
		"stealableChicken": chicken/details.dpt,
		"attackCooldown": attackCooldownTime,
		"hnt": details.hnt,
		"pvp": details.pvp,
		"def": details.def,
		"dpt": details.dpt
	}
	console.log(
		"address: "+ userAddress+
		", chicken: "+ chicken+
		", stealableChicken: "+ chicken/details.dpt+
		", attackCooldown: "+ attackCooldownTime+
		", hnt: "+ details.hnt+
		", pvp: "+ details.pvp+
		", def: "+ details.def+
		", dpt: "+ details.dpt
		);
	return stats;
}

function getChicken(contractInstance, userAddress){
	return new Promise(resolve => {
		contractInstance.chickenOf(userAddress, (error, result) => resolve(result.c[0]));
	});
}

function getDetails(contractInstance, userAddress){
	return new Promise(resolve => {
		contractInstance.detailsOf(userAddress, (error, result) => resolve({
			"hnt" : result[0][0]/result[0][1],
			"pvp" : result[1][0]/result[0][1],
			"def" : result[2][0]/result[0][1],
			"dpt" : result[5].c[0],
			"atkCool" : result[8].c[0]
			}));
	});
}

function getMostRecentBlock(){
	return new Promise(resolve => {
		web3.eth.getBlock("latest", (error, result) => resolve(result));
	});
}

function getGenisisBlock(contractInstance){
	return new Promise(resolve => {
		contractInstance.genesis((error, result) => resolve(result));
	});
}

//getting contract instace function
async function getContractInstance(contractAddress){
	console.log("loading contract instance...");
	const contractABI = await chickenHuntABI;
	const contract = await web3.eth.contract(contractABI);
	const instance = await contract.at(contractAddress);
	return instance;
}

//ether stats functions
function displayEtherStats(ethPrice, gasPrice){
	document.getElementById("ethPriceUsd").innerHTML = "$"+parseFloat(ethPrice).toFixed(2);
	document.getElementById("gasPrice").innerHTML = parseFloat(gasPrice).toFixed(0);
}

async function getEtherStats(){
	console.log("loading ethereum stats...");
	const ethPriceUsd = await (await fetch("https://api.coinmarketcap.com/v1/ticker/ethereum/")).json()
		.then(json => json[0].price_usd);
	const gasPrice = (await getGasPrice())+1;
	displayEtherStats(ethPriceUsd, gasPrice);
	return {"ethPriceUsd":parseFloat(ethPriceUsd), "gasPrice":gasPrice};
}

function getGasPrice(){
	return new Promise(resolve => {
		web3.eth.getGasPrice((error, result) => resolve(result.c[0]*Math.pow(10,-9)));
	});
}


//set up web3 functions
function getWeb3(callback) {
	console.log("loading web3...");
  if (typeof window.web3 === 'undefined') {
    // no web3, use fallback
    console.error("Please use a web3 browser");
  } else {
    // window.web3 == web3 most of the time. Don't override the provided,
    // web3, just wrap it in your Web3.
    var myWeb3 = new Web3(window.web3.currentProvider); 

    // the default account doesn't seem to be persisted, copy it to our
    // new instance
    myWeb3.eth.defaultAccount = window.web3.eth.defaultAccount;

    if (localStorage.altarGasStats &&
    	localStorage.attackGasStats &&
    	localStorage.totalChickenProduction &&
    	localStorage.users){

    	let storedAltarGas = JSON.parse(localStorage.altarGasStats);
    	let storedAttackGas = JSON.parse(localStorage.attackGasStats);
    	let storedTotalChickenProduction = JSON.parse(localStorage.totalChickenProduction);
    	let storedChknHntUsers = JSON.parse(localStorage.users);
    	callback(myWeb3, storedAltarGas, storedAttackGas, storedTotalChickenProduction, storedChknHntUsers);
	} else {
    	callback(myWeb3);
    }
  }
}


const chickenHuntABI = [{"constant":true,"inputs":[{"name":"_shareholder","type":"address"}],"name":"dividendsOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"depot","outputs":[{"name":"ethereum","type":"uint256"},{"name":"max","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_amount","type":"uint256"}],"name":"buyPets","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_user","type":"address"}],"name":"detailsOf","outputs":[{"name":"_hunting","type":"uint256[2]"},{"name":"_offense","type":"uint256[2]"},{"name":"_defense","type":"uint256[2]"},{"name":"_hunter","type":"uint256[4]"},{"name":"_pets","type":"uint256[]"},{"name":"_depots","type":"uint256"},{"name":"_savedChicken","type":"uint256"},{"name":"_lastSaveTime","type":"uint256"},{"name":"_cooldown","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_dividendRate","type":"uint256"},{"name":"_altarCut","type":"uint256"},{"name":"_storeCut","type":"uint256"},{"name":"_devCut","type":"uint256"}],"name":"setDistribution","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_chickenTokenDelegator","type":"address"}],"name":"init","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"uint256"}],"name":"upgradeDexterity","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"altarCut","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdrawStoreBalance","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"typeB","outputs":[{"name":"chicken","type":"uint256"},{"name":"ethereum","type":"uint256"},{"name":"max","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalShares","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_chicken","type":"uint256"}],"name":"chickenToAltar","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"buyStore","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"uint256"}],"name":"upgradeConstitution","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_huntingMultiplier","type":"uint256"},{"name":"_offenseMultiplier","type":"uint256"},{"name":"_defenseMultiplier","type":"uint256"},{"name":"_price","type":"uint256"}],"name":"addItem","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"uint256"}],"name":"upgradeResistance","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"string"},{"name":"_symbol","type":"string"}],"name":"setNameAndSymbol","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"INCREMENT_RATE","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"ethereumBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_user","type":"address"}],"name":"chickenOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"devFee","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_cooldownTime","type":"uint256"}],"name":"setCooldownTime","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_amount","type":"uint256"}],"name":"buyDepots","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"typeA","outputs":[{"name":"chicken","type":"uint256"},{"name":"ethereum","type":"uint256"},{"name":"max","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_price","type":"uint256"},{"name":"_max","type":"uint256"}],"name":"setDepot","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"savedChickenOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_huntingPower","type":"uint256"},{"name":"_offensePower","type":"uint256"},{"name":"_defense","type":"uint256"},{"name":"_chicken","type":"uint256"},{"name":"_ethereum","type":"uint256"},{"name":"_max","type":"uint256"}],"name":"addPet","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"store","outputs":[{"name":"owner","type":"address"},{"name":"cut","type":"uint256"},{"name":"cost","type":"uint256"},{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"ethereumFromAltar","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"devCut","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"genesis","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_user","type":"address"}],"name":"hunterOf","outputs":[{"name":"_strength","type":"uint256"},{"name":"_dexterity","type":"uint256"},{"name":"_constitution","type":"uint256"},{"name":"_resistance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"altarRecords","outputs":[{"name":"ethereum","type":"uint256"},{"name":"chicken","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"cooldownTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"redeemShares","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_chickenA","type":"uint256"},{"name":"_ethereumA","type":"uint256"},{"name":"_maxA","type":"uint256"},{"name":"_chickenB","type":"uint256"},{"name":"_ethereumB","type":"uint256"},{"name":"_maxB","type":"uint256"}],"name":"setConfiguration","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"join","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"tradeBooks","outputs":[{"name":"altarRecordId","type":"uint256"},{"name":"chicken","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_committee","type":"address"}],"name":"setCommittee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"items","outputs":[{"name":"owner","type":"address"},{"name":"huntingMultiplier","type":"uint256"},{"name":"offenseMultiplier","type":"uint256"},{"name":"defenseMultiplier","type":"uint256"},{"name":"cost","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"totalChicken","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"},{"name":"_gas","type":"uint256"},{"name":"_code","type":"bytes"}],"name":"callFor","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferChickenFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"developer","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"withdrawDevFee","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"CORRECTION","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"pets","outputs":[{"name":"huntingPower","type":"uint256"},{"name":"offensePower","type":"uint256"},{"name":"defensePower","type":"uint256"},{"name":"chicken","type":"uint256"},{"name":"ethereum","type":"uint256"},{"name":"max","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_target","type":"address"}],"name":"attack","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_user","type":"address"}],"name":"tradeBookOf","outputs":[{"name":"_id","type":"uint256"},{"name":"_ethereum","type":"uint256"},{"name":"_totalChicken","type":"uint256"},{"name":"_chicken","type":"uint256"},{"name":"_income","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"uint256"}],"name":"upgradeStrength","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"dividendRate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"committee","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"chickenTokenDelegator","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_user","type":"address"}],"name":"saveChickenOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"dividendsPerShare","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"}],"name":"buyItem","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"altarFund","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"lastSaveTime","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"attackCooldown","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_id","type":"uint256"},{"name":"_chicken","type":"uint256"},{"name":"_ethereum","type":"uint256"},{"name":"_max","type":"uint256"}],"name":"changePet","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_developer","type":"address"}],"name":"setDeveloper","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"user","type":"address"}],"name":"Join","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"huntingPower","type":"uint256"},{"indexed":false,"name":"offensePower","type":"uint256"},{"indexed":false,"name":"defense","type":"uint256"},{"indexed":false,"name":"chicken","type":"uint256"},{"indexed":false,"name":"ethereum","type":"uint256"},{"indexed":false,"name":"max","type":"uint256"}],"name":"NewPet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"chicken","type":"uint256"},{"indexed":false,"name":"ethereum","type":"uint256"},{"indexed":false,"name":"max","type":"uint256"}],"name":"ChangePet","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"huntingMultiplier","type":"uint256"},{"indexed":false,"name":"offenseMultiplier","type":"uint256"},{"indexed":false,"name":"defenseMultiplier","type":"uint256"},{"indexed":false,"name":"ethereum","type":"uint256"}],"name":"NewItem","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"ethereum","type":"uint256"},{"indexed":false,"name":"max","type":"uint256"}],"name":"SetDepot","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"chickenA","type":"uint256"},{"indexed":false,"name":"ethereumA","type":"uint256"},{"indexed":false,"name":"maxA","type":"uint256"},{"indexed":false,"name":"chickenB","type":"uint256"},{"indexed":false,"name":"ethereumB","type":"uint256"},{"indexed":false,"name":"maxB","type":"uint256"}],"name":"SetConfiguration","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"dividendRate","type":"uint256"},{"indexed":false,"name":"altarCut","type":"uint256"},{"indexed":false,"name":"storeCut","type":"uint256"},{"indexed":false,"name":"devCut","type":"uint256"}],"name":"SetDistribution","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"cooldownTime","type":"uint256"}],"name":"SetCooldownTime","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"name","type":"string"},{"indexed":false,"name":"symbol","type":"string"}],"name":"SetNameAndSymbol","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"developer","type":"address"}],"name":"SetDeveloper","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"committee","type":"address"}],"name":"SetCommittee","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"ethereum","type":"uint256"}],"name":"NewAltarRecord","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"chicken","type":"uint256"}],"name":"ChickenToAltar","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"ethereum","type":"uint256"}],"name":"EthereumFromAltar","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"attacker","type":"address"},{"indexed":true,"name":"defender","type":"address"},{"indexed":false,"name":"booty","type":"uint256"}],"name":"Attack","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"id","type":"uint256"},{"indexed":false,"name":"to","type":"uint256"}],"name":"UpgradePet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"to","type":"uint256"}],"name":"UpgradeDepot","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":true,"name":"id","type":"uint256"},{"indexed":false,"name":"cost","type":"uint256"}],"name":"BuyItem","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"cost","type":"uint256"}],"name":"BuyStore","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"attribute","type":"string"},{"indexed":false,"name":"to","type":"uint256"}],"name":"UpgradeHunter","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"user","type":"address"},{"indexed":false,"name":"shares","type":"uint256"},{"indexed":false,"name":"dividends","type":"uint256"}],"name":"RedeemShares","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"}]
</script>
	</div>

<script   src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="   crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


<!-- web3 -->
<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>

</body>
</html>
